{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\all-projects\\\\all-projects.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\nimport { createProjectStart, fetchProjectsStart } from \"../../redux/all-projects/all-projects.actions\";\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\nimport { signOut } from \"../../redux/user/user.actions\";\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\";\nimport ProjectsNav from \"../../components/projects-nav/projects-nav.component\";\nimport ProjectListContainer from \"../../components/projects-list/projects-list.container\";\nimport { GenericButton } from \"../../components/generic-button/generic-button.styles\";\nimport AddUserForm from \"../../components/adduser-form/adduser-form.component\";\nimport SearchBar from \"../../components/search-bar/search-bar.component\";\nimport NoResult from \"../../components/no-result/no-result.component\";\nimport { Overlay } from \"../../components/admin-panel-task-page/admin-panel-task-page.styles\";\nimport ProjectsFilter from \"../../components/projects-filter/projects-filter.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllProjects extends Component {\n  constructor() {\n    super();\n\n    this.search = searchedText => {\n      let temp = this.props.projects;\n\n      if (searchedText) {\n        temp = temp.filter(({\n          projectName\n        }) => {\n          return projectName.toLowerCase().includes(searchedText.toLowerCase());\n        });\n      }\n\n      this.setState({\n        projectsList: temp\n      });\n    };\n\n    this.filter = filters => {\n      let temp = this.props.projects;\n\n      for (let filter in filters) {\n        temp = temp.filter(({\n          projectName\n        }) => {\n          return temp[filter] = filters[filter];\n        });\n      }\n\n      this.setState({\n        projectsList: temp,\n        filters: filters\n      });\n    };\n\n    this.toggleSearchBar = () => {\n      this.setState(prevState => ({\n        showSearch: !prevState.showSearch\n      }));\n    };\n\n    this.toggleFilter = () => {\n      this.setState(prevState => ({\n        showFilter: !prevState.showFilter\n      }));\n    };\n\n    this.state = {\n      projectsList: [],\n      //will change based on search\n      showSearch: false,\n      showFilter: false,\n      filters: {}\n    };\n  }\n\n  componentDidMount() {\n    const {\n      fetchProjects\n    } = this.props;\n    fetchProjects();\n    this.setState({\n      projectsList: this.props.projects\n    });\n  }\n\n  render() {\n    const {\n      projectsList\n    } = this.state;\n    console.log(projectsList);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ProjectsNav, {\n        title: \"Projects\",\n        toggleSearchBar: this.toggleSearchBar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), this.state.showSearch ? /*#__PURE__*/_jsxDEV(SearchBar, {\n        placeholder: \"Search Projects...\",\n        search: this.search,\n        toggleFilter: this.toggleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 41\n      }, this) : null, projectsList.length === 0 ? /*#__PURE__*/_jsxDEV(NoResult, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 44\n      }, this) : /*#__PURE__*/_jsxDEV(ProjectListContainer, {\n        projects: projectsList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 56\n      }, this), this.state.showFilter ? /*#__PURE__*/_jsxDEV(Overlay, {\n        backgroundcolor: \"rgba(0,0,0,0.3)\",\n        style: {\n          bottom: \"0\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ProjectsFilter, {\n          exit: this.toggleFilter,\n          onSubmit: this.filter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  name: selectCurrentUserFirstName,\n  projects: selectUserProjects\n});\n\nconst mapDispatchToProps = dispatch => ({\n  signOut: () => dispatch(signOut()),\n  createProject: projectDetails => dispatch(createProjectStart(projectDetails)),\n  fetchProjects: () => dispatch(fetchProjectsStart())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProjects);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/all-projects/all-projects.js"],"names":["React","Component","connect","createStructuredSelector","ProjectList","createProjectStart","fetchProjectsStart","selectUserProjects","signOut","selectCurrentUserFirstName","CreateProjectForm","ProjectsNav","ProjectListContainer","GenericButton","AddUserForm","SearchBar","NoResult","Overlay","ProjectsFilter","AllProjects","constructor","search","searchedText","temp","props","projects","filter","projectName","toLowerCase","includes","setState","projectsList","filters","toggleSearchBar","prevState","showSearch","toggleFilter","showFilter","state","componentDidMount","fetchProjects","render","console","log","length","bottom","height","display","flexDirection","justifyContent","alignItems","mapStateToProps","name","mapDispatchToProps","dispatch","createProject","projectDetails"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\r\nimport { createProjectStart, fetchProjectsStart } from \"../../redux/all-projects/all-projects.actions\";\r\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\r\nimport { signOut } from \"../../redux/user/user.actions\";\r\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\r\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\"\r\nimport  ProjectsNav  from \"../../components/projects-nav/projects-nav.component\";\r\nimport ProjectListContainer from \"../../components/projects-list/projects-list.container\";\r\nimport { GenericButton } from \"../../components/generic-button/generic-button.styles\";\r\nimport AddUserForm from \"../../components/adduser-form/adduser-form.component\";\r\nimport SearchBar from \"../../components/search-bar/search-bar.component\";\r\nimport NoResult from \"../../components/no-result/no-result.component\";\r\nimport {Overlay} from \"../../components/admin-panel-task-page/admin-panel-task-page.styles\"\r\nimport ProjectsFilter from \"../../components/projects-filter/projects-filter.component\"\r\n class AllProjects extends Component {\r\n\r\n    constructor(){\r\n      super()\r\n      this.state={\r\n        projectsList: [],//will change based on search\r\n        showSearch: false,\r\n        showFilter: false, \r\n        filters:{}\r\n      }\r\n    }\r\n\r\n     componentDidMount(){\r\n        const {fetchProjects} = this.props;\r\n        fetchProjects()\r\n        this.setState({projectsList: this.props.projects})\r\n     }\r\n\r\n     search = (searchedText) => {\r\n        let temp = this.props.projects\r\n\r\n        if(searchedText){\r\n          temp = temp.filter(({projectName})=>{\r\n            return projectName.toLowerCase().includes(searchedText.toLowerCase())\r\n          })\r\n        }\r\n        \r\n        this.setState({projectsList: temp})\r\n        \r\n     }\r\n\r\n     filter = (filters) =>{\r\n      \r\n      let temp = this.props.projects\r\n      \r\n      for(let filter in filters){\r\n        temp = temp.filter(({projectName})=>{\r\n          return temp[filter] = filters[filter]\r\n        })\r\n      }\r\n        \r\n        \r\n        \r\n        this.setState({projectsList: temp, filters: filters})\r\n     }\r\n\r\n     toggleSearchBar = () => {\r\n      this.setState((prevState) => ({\r\n        showSearch: !prevState.showSearch\r\n      }));\r\n    \r\n     }\r\n\r\n     toggleFilter = () => {\r\n      this.setState((prevState) => ({\r\n        showFilter: !prevState.showFilter\r\n      }));\r\n    \r\n     }\r\n\r\n\r\n    render() {\r\n        const {projectsList} = this.state\r\n        console.log(projectsList)\r\n\r\n        return (\r\n            <div>\r\n                <ProjectsNav title = \"Projects\" toggleSearchBar={this.toggleSearchBar}/>\r\n                {this.state.showSearch? <SearchBar placeholder='Search Projects...' search={this.search} toggleFilter={this.toggleFilter}/> : null}\r\n                {projectsList.length === 0?<NoResult/>:<ProjectListContainer projects={projectsList}/>}\r\n                \r\n                {this.state.showFilter? \r\n                <Overlay \r\n                    backgroundcolor = \"rgba(0,0,0,0.3)\" \r\n                    style={{bottom:\"0\",height:\"100%\", display:\"flex\", flexDirection:\"row\", justifyContent:\"center\", alignItems:\"center\"}}>\r\n                <ProjectsFilter exit={this.toggleFilter} onSubmit={this.filter}/>\r\n                </Overlay> : null\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    name: selectCurrentUserFirstName,\r\n    projects: selectUserProjects\r\n  });\r\n  \r\n  const mapDispatchToProps = (dispatch) => ({\r\n    signOut: () => dispatch(signOut()),\r\n    createProject: (projectDetails) => dispatch(createProjectStart(projectDetails)),\r\n    fetchProjects : () => dispatch(fetchProjectsStart())\r\n  });\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(AllProjects);\r\n\r\n"]},"metadata":{},"sourceType":"module"}