{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\cost-code\\\\cost-code.page.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { createCostCodeItemStart, fetchCostBookStart } from \"../../redux/costbook/costbook.actions\";\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\nimport { Link } from \"react-router-dom\";\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\nimport CostBookEditCostCode from \"../../components/costbook-editcostcode/costbook-editcostcode\";\nimport CostCodeCreateButton from \"../../components/costcode-createbutton/costcode-createbutton.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CostCode extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleEdit = () => {\n      this.setState(prevState => ({\n        showEdit: !prevState.showEdit\n      }));\n    };\n\n    this.itemChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      console.log(name, value);\n      let itemInfo = this.state.item;\n      itemInfo[name] = value;\n      this.setState({\n        item: itemInfo\n      }, console.log(this.state.item));\n    };\n\n    this.createItem = e => {\n      e.preventDefault();\n      let itemDetails = this.state.item;\n      this.props.createItem(itemDetails);\n    };\n\n    this.state = {\n      costbook: null,\n      item: {\n        itemName: null,\n        partNo: null,\n        cost: null,\n        description: null,\n        itemLink: null,\n        costCodeId: this.props.match.params.costCodeId,\n        categoryId: this.props.match.params.categoryId\n      },\n      showEdit: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCostBook();\n  }\n\n  render() {\n    if (!this.props.fetchCostBookSuccess) {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 14\n      }, this);\n    }\n\n    let category = this.props.costbook.find(book => book._id === this.props.match.params.categoryId); //console.log(category)\n\n    let costCodeItem = category.costCodes.find(id => id._id === this.props.match.params.costCodeId);\n    console.log(\"hello\", costCodeItem, category);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CostBookCostCodeNav, {\n        title: costCodeItem.costCodeTitle.slice(0, 4)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Cost Code Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ColumnDiv, {\n        children: [/*#__PURE__*/_jsxDEV(CostCodeTitle, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cost Code Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#205284\",\n              fontSize: \"0.9em\"\n            },\n            onClick: this.toggleEdit,\n            children: this.state.showEdit ? `Cancel` : `Edit`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"0.5em\",\n            color: \"rgba(102,102,102,0.7)\"\n          },\n          children: this.state.showEdit ? `Cost codes help group specific set of items together.` : costCodeItem.costCodeTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), this.state.showEdit ? /*#__PURE__*/_jsxDEV(CostBookEditCostCode, {\n          costCodeTitle: costCodeItem.costCodeTitle,\n          categoryId: category._id,\n          categoryName: category.categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), costCodeItem.items.map(item => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            textDecoration: \"none\"\n          },\n          to: `/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`,\n          children: /*#__PURE__*/_jsxDEV(CostbookCostCode, {\n            title: item.itemName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(CostCodeCreateButton, {\n        categoryId: this.props.match.params.categoryId,\n        costCodeId: this.props.match.params.costCodeId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  costbook: selectCostBookDetails\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\n  createItem: itemDetails => dispatch(createCostCodeItemStart(itemDetails)) // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/cost-code/cost-code.page.js"],"names":["React","Component","connect","createStructuredSelector","createCostCodeItemStart","fetchCostBookStart","selectCostBookDetails","Link","CostBookCostCodeNav","CostbookCategory","CostbookCostCode","ColumnDiv","CostCodeTitle","CostBookEditCostCode","CostCodeCreateButton","CostCode","constructor","props","toggleEdit","setState","prevState","showEdit","itemChange","e","name","value","target","console","log","itemInfo","state","item","createItem","preventDefault","itemDetails","costbook","itemName","partNo","cost","description","itemLink","costCodeId","match","params","categoryId","componentDidMount","fetchCostBook","render","fetchCostBookSuccess","category","find","book","_id","costCodeItem","costCodes","id","costCodeTitle","slice","background","border","color","fontSize","marginTop","categoryName","items","map","textDecoration","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SACEC,uBADF,EAEEC,kBAFF,QAGO,uCAHP;AAIA,SAASC,qBAAT,QAAsC,yCAAtC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,mBAAT,QAAoC,sEAApC;AACA,SAASC,gBAAT,QAAiC,gEAAjC;AACA,SAASC,gBAAT,QAAiC,gEAAjC;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,oBAAzC;AACA,OAAOC,oBAAP,MAAiC,8DAAjC;AACA,OAAOC,oBAAP,MAAiC,wEAAjC;;;;AAEA,MAAMC,QAAN,SAAuBd,SAAvB,CAAiC;AAC/Be,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqBnBC,UArBmB,GAqBN,MAAM;AACjB,WAAKC,QAAL,CAAeC,SAAD,KAAgB;AAC5BC,QAAAA,QAAQ,EAAE,CAACD,SAAS,CAACC;AADO,OAAhB,CAAd;AAGD,KAzBkB;;AAAA,SA2BnBC,UA3BmB,GA2BLC,CAAD,IAAO;AAClB,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBF,CAAC,CAACG,MAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,KAAlB;AACA,UAAII,QAAQ,GAAG,KAAKC,KAAL,CAAWC,IAA1B;AACAF,MAAAA,QAAQ,CAACL,IAAD,CAAR,GAAiBC,KAAjB;AACA,WAAKN,QAAL,CAAc;AAAEY,QAAAA,IAAI,EAAEF;AAAR,OAAd,EAAkCF,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWC,IAAvB,CAAlC;AACD,KAjCkB;;AAAA,SAmCnBC,UAnCmB,GAmCLT,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACU,cAAF;AACA,UAAIC,WAAW,GAAG,KAAKJ,KAAL,CAAWC,IAA7B;AACA,WAAKd,KAAL,CAAWe,UAAX,CAAsBE,WAAtB;AACD,KAvCkB;;AAEjB,SAAKJ,KAAL,GAAa;AACXK,MAAAA,QAAQ,EAAE,IADC;AAEXJ,MAAAA,IAAI,EAAE;AACJK,QAAAA,QAAQ,EAAE,IADN;AAEJC,QAAAA,MAAM,EAAE,IAFJ;AAGJC,QAAAA,IAAI,EAAE,IAHF;AAIJC,QAAAA,WAAW,EAAE,IAJT;AAKJC,QAAAA,QAAQ,EAAE,IALN;AAMJC,QAAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBF,UANhC;AAOJG,QAAAA,UAAU,EAAE,KAAK3B,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC;AAPhC,OAFK;AAWXvB,MAAAA,QAAQ,EAAE;AAXC,KAAb;AAaD;;AAEDwB,EAAAA,iBAAiB,GAAG;AAClB,SAAK5B,KAAL,CAAW6B,aAAX;AACD;;AAsBDC,EAAAA,MAAM,GAAG;AACP,QAAI,CAAC,KAAK9B,KAAL,CAAW+B,oBAAhB,EAAsC;AACpC,0BAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AAED,QAAIC,QAAQ,GAAG,KAAKhC,KAAL,CAAWkB,QAAX,CAAoBe,IAApB,CACZC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAa,KAAKnC,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,UADlC,CAAf,CALO,CAQP;;AACA,QAAIS,YAAY,GAAGJ,QAAQ,CAACK,SAAT,CAAmBJ,IAAnB,CAChBK,EAAD,IAAQA,EAAE,CAACH,GAAH,KAAW,KAAKnC,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBF,UAD1B,CAAnB;AAGAd,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqByB,YAArB,EAAmCJ,QAAnC;AACA,wBACE;AAAA,8BACE,QAAC,mBAAD;AAAqB,QAAA,KAAK,EAAEI,YAAY,CAACG,aAAb,CAA2BC,KAA3B,CAAiC,CAAjC,EAAoC,CAApC;AAA5B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,gBAAD;AAAkB,QAAA,YAAY,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE,QAAC,SAAD;AAAA,gCACE,QAAC,aAAD;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,YAAA,KAAK,EAAE;AACLC,cAAAA,UAAU,EAAE,MADP;AAELC,cAAAA,MAAM,EAAE,MAFH;AAGLC,cAAAA,KAAK,EAAE,SAHF;AAILC,cAAAA,QAAQ,EAAE;AAJL,aADT;AAOE,YAAA,OAAO,EAAE,KAAK3C,UAPhB;AAAA,sBASG,KAAKY,KAAL,CAAWT,QAAX,GAAuB,QAAvB,GAAkC;AATrC;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAeE;AAAK,UAAA,KAAK,EAAE;AAAEyC,YAAAA,SAAS,EAAE,OAAb;AAAsBF,YAAAA,KAAK,EAAE;AAA7B,WAAZ;AAAA,oBACG,KAAK9B,KAAL,CAAWT,QAAX,GACI,uDADJ,GAEGgC,YAAY,CAACG;AAHnB;AAAA;AAAA;AAAA;AAAA,gBAfF,EAqBG,KAAK1B,KAAL,CAAWT,QAAX,gBACC,QAAC,oBAAD;AACE,UAAA,aAAa,EAAEgC,YAAY,CAACG,aAD9B;AAEE,UAAA,UAAU,EAAEP,QAAQ,CAACG,GAFvB;AAGE,UAAA,YAAY,EAAEH,QAAQ,CAACc;AAHzB;AAAA;AAAA;AAAA;AAAA,gBADD,GAMG,IA3BN;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAkCE,QAAC,gBAAD;AAAkB,QAAA,YAAY,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,cAlCF,EAmCGV,YAAY,CAACW,KAAb,CAAmBC,GAAnB,CAAwBlC,IAAD,IAAU;AAChC,4BACE,QAAC,IAAD;AACE,UAAA,KAAK,EAAE;AAAEmC,YAAAA,cAAc,EAAE;AAAlB,WADT;AAEE,UAAA,EAAE,EAAG,cAAa,KAAKjD,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,UAAW,IAAG,KAAK3B,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBF,UAAW,IAAGV,IAAI,CAACqB,GAAI,EAFzG;AAAA,iCAIE,QAAC,gBAAD;AAAkB,YAAA,KAAK,EAAErB,IAAI,CAACK;AAA9B;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,gBADF;AAQD,OATA,CAnCH,eA8CE,QAAC,oBAAD;AACE,QAAA,UAAU,EAAE,KAAKnB,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,UADtC;AAEE,QAAA,UAAU,EAAE,KAAK3B,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBF;AAFtC;AAAA;AAAA;AAAA;AAAA,cA9CF;AAAA,oBADF;AAqDD;;AA5G8B;;AA+GjC,MAAM0B,eAAe,GAAGhE,wBAAwB,CAAC;AAC/CgC,EAAAA,QAAQ,EAAE7B;AADqC,CAAD,CAAhD;;AAIA,MAAM8D,kBAAkB,GAAIC,QAAD,KAAe;AACxCvB,EAAAA,aAAa,EAAE,MAAMuB,QAAQ,CAAChE,kBAAkB,EAAnB,CADW;AAExC2B,EAAAA,UAAU,EAAGE,WAAD,IAAiBmC,QAAQ,CAACjE,uBAAuB,CAAC8B,WAAD,CAAxB,CAFG,CAGxC;AACA;AACA;;AALwC,CAAf,CAA3B;;AAQA,eAAehC,OAAO,CAACiE,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CrD,QAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  createCostCodeItemStart,\r\n  fetchCostBookStart,\r\n} from \"../../redux/costbook/costbook.actions\";\r\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\r\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\r\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\r\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\r\nimport CostBookEditCostCode from \"../../components/costbook-editcostcode/costbook-editcostcode\";\r\nimport CostCodeCreateButton from \"../../components/costcode-createbutton/costcode-createbutton.component\";\r\n\r\nclass CostCode extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      costbook: null,\r\n      item: {\r\n        itemName: null,\r\n        partNo: null,\r\n        cost: null,\r\n        description: null,\r\n        itemLink: null,\r\n        costCodeId: this.props.match.params.costCodeId,\r\n        categoryId: this.props.match.params.categoryId,\r\n      },\r\n      showEdit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchCostBook();\r\n  }\r\n\r\n  toggleEdit = () => {\r\n    this.setState((prevState) => ({\r\n      showEdit: !prevState.showEdit,\r\n    }));\r\n  };\r\n\r\n  itemChange = (e) => {\r\n    const { name, value } = e.target;\r\n    console.log(name, value);\r\n    let itemInfo = this.state.item;\r\n    itemInfo[name] = value;\r\n    this.setState({ item: itemInfo }, console.log(this.state.item));\r\n  };\r\n\r\n  createItem = (e) => {\r\n    e.preventDefault();\r\n    let itemDetails = this.state.item;\r\n    this.props.createItem(itemDetails);\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.fetchCostBookSuccess) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    let category = this.props.costbook.find(\r\n      (book) => book._id === this.props.match.params.categoryId\r\n    );\r\n    //console.log(category)\r\n    let costCodeItem = category.costCodes.find(\r\n      (id) => id._id === this.props.match.params.costCodeId\r\n    );\r\n    console.log(\"hello\", costCodeItem, category);\r\n    return (\r\n      <>\r\n        <CostBookCostCodeNav title={costCodeItem.costCodeTitle.slice(0, 4)} />\r\n        <CostbookCategory categoryName=\"Cost Code Info\" />\r\n\r\n        <ColumnDiv>\r\n          <CostCodeTitle>\r\n            <div>Cost Code Title</div>\r\n            <button\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"#205284\",\r\n                fontSize: \"0.9em\",\r\n              }}\r\n              onClick={this.toggleEdit}\r\n            >\r\n              {this.state.showEdit ? `Cancel` : `Edit`}\r\n            </button>\r\n          </CostCodeTitle>\r\n          <div style={{ marginTop: \"0.5em\", color: \"rgba(102,102,102,0.7)\" }}>\r\n            {this.state.showEdit\r\n              ? `Cost codes help group specific set of items together.`\r\n              : costCodeItem.costCodeTitle}\r\n          </div>\r\n\r\n          {this.state.showEdit ? (\r\n            <CostBookEditCostCode\r\n              costCodeTitle={costCodeItem.costCodeTitle}\r\n              categoryId={category._id}\r\n              categoryName={category.categoryName}\r\n            />\r\n          ) : null}\r\n        </ColumnDiv>\r\n\r\n        <CostbookCategory categoryName=\"Items\" />\r\n        {costCodeItem.items.map((item) => {\r\n          return (\r\n            <Link\r\n              style={{ textDecoration: \"none\" }}\r\n              to={`/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`}\r\n            >\r\n              <CostbookCostCode title={item.itemName} />\r\n            </Link>\r\n          );\r\n        })}\r\n\r\n        <CostCodeCreateButton\r\n          categoryId={this.props.match.params.categoryId}\r\n          costCodeId={this.props.match.params.costCodeId}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  costbook: selectCostBookDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\r\n  createItem: (itemDetails) => dispatch(createCostCodeItemStart(itemDetails)),\r\n  // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\r\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\r\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);\r\n"]},"metadata":{},"sourceType":"module"}