{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\create-organisation\\\\create-organisation.page.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport { clearAllData, clearAllOrganisationData, createOrganisationStart, fetchAllOrganisationsStart } from \"../../redux/organisation/organisation.actions\";\nimport { selectAllOrganisations, selectCreateOrganisationStart, selectFetchAllOrganisationsSuccess } from \"../../redux/organisation/organisation.selectors\";\nimport { NavBar, OneThirdDiv, LongInput } from \"./create-organisation.styles\";\nimport Organisation from \"./../organisation/organisation.page\";\nimport { selectCreateOrganisationSucessful } from \"./../../redux/organisation/organisation.selectors\";\nimport Spinner from \"../../components/spinner/spinner.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CreateOrganisation extends Component {\n  constructor() {\n    super();\n\n    this.organisationOnChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      let org = this.state.organisationDetails;\n      org[name] = value;\n      this.setState({\n        organisationDetails: org\n      }, () => console.log(this.state));\n    };\n\n    this.createOrg = e => {\n      e.preventDefault();\n      let orgDetails = this.state.organisationDetails;\n      this.props.createOrganisation(orgDetails);\n      this.setState({\n        creation: true,\n        organisationListLength: this.props.organisations.length\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.exit = () => {\n      console.log(\"exit\");\n      this.props.history.push(\"/organisations\");\n    };\n\n    this.state = {\n      organisationDetails: {\n        organisationName: null,\n        organisationEmail: null,\n        organisationNumber: null,\n        organisationAddress: null\n      },\n      creation: false // organisationListLength: null,\n\n    };\n  }\n\n  componentDidMount() {// this.props.fetchOrganisations();\n    // this.setState({ organisationListLength: this.props.organisations.length });\n  }\n\n  componentWillUnmount() {// this.props.fetchOrganisations();\n    // this.setState({ organisationListLength: this.props.organisations.length });\n  }\n\n  render() {\n    console.log(this.props.organisations, this.state.creation, this.props.createdOrganisation, this.props.createdOrganisationStart);\n\n    if (this.state.creation && this.props.createdOrganisation) {\n      console.log(\"exit\");\n      this.props.history.push(\"/organisations\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          height: \"100vh\",\n          backgroundColor: \"#F5F5F5\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {\n          children: [/*#__PURE__*/_jsxDEV(OneThirdDiv, {\n            align: \"flex-start\",\n            color: \"#205284\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/organisations`,\n              style: {\n                textDecoration: \"none\",\n                color: \"#205284\"\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(OneThirdDiv, {\n            align: \"center\",\n            style: {\n              fontWeight: \"600\"\n            },\n            children: \"New Org\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(OneThirdDiv, {\n            align: \"flex-end\",\n            color: \"#205284\",\n            onClick: this.createOrg,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onChange: this.organisationOnChange,\n          onSubmit: this.createOrg,\n          children: [/*#__PURE__*/_jsxDEV(LongInput, {\n            id: \"organisationName\",\n            name: \"organisationName\",\n            type: \"text\",\n            placeholder: \"Enter Organisation Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LongInput, {\n            id: \"organisationAddress\",\n            name: \"organisationAddress\",\n            type: \"text\",\n            placeholder: \"Enter Organisation Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LongInput, {\n            id: \"organisationNumber\",\n            name: \"organisationNumber\",\n            type: \"text\",\n            placeholder: \"Enter Organisation Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LongInput, {\n            id: \"organisationEmail\",\n            name: \"organisationEmail\",\n            type: \"text\",\n            placeholder: \"Enter Organisation Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  organisationsFetched: selectFetchAllOrganisationsSuccess,\n  organisations: selectAllOrganisations,\n  createdOrganisation: selectCreateOrganisationSucessful,\n  createdOrganisationStart: selectCreateOrganisationStart\n});\n\nconst mapDispatchToProps = dispatch => ({\n  createOrganisation: orgDetails => dispatch(createOrganisationStart(orgDetails)),\n  fetchOrganisations: userId => dispatch(fetchAllOrganisationsStart(userId)),\n  clearOrganisationData: () => dispatch(clearAllOrganisationData)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateOrganisation);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/create-organisation/create-organisation.page.js"],"names":["React","Component","connect","Link","createStructuredSelector","clearAllData","clearAllOrganisationData","createOrganisationStart","fetchAllOrganisationsStart","selectAllOrganisations","selectCreateOrganisationStart","selectFetchAllOrganisationsSuccess","NavBar","OneThirdDiv","LongInput","Organisation","selectCreateOrganisationSucessful","Spinner","CreateOrganisation","constructor","organisationOnChange","e","name","value","target","org","state","organisationDetails","setState","console","log","createOrg","preventDefault","orgDetails","props","createOrganisation","creation","organisationListLength","organisations","length","exit","history","push","organisationName","organisationEmail","organisationNumber","organisationAddress","componentDidMount","componentWillUnmount","render","createdOrganisation","createdOrganisationStart","width","height","backgroundColor","textDecoration","color","fontWeight","mapStateToProps","organisationsFetched","mapDispatchToProps","dispatch","fetchOrganisations","userId","clearOrganisationData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  clearAllData,\r\n  clearAllOrganisationData,\r\n  createOrganisationStart,\r\n  fetchAllOrganisationsStart,\r\n} from \"../../redux/organisation/organisation.actions\";\r\nimport {\r\n  selectAllOrganisations,\r\n  selectCreateOrganisationStart,\r\n  selectFetchAllOrganisationsSuccess,\r\n} from \"../../redux/organisation/organisation.selectors\";\r\nimport { NavBar, OneThirdDiv, LongInput } from \"./create-organisation.styles\";\r\nimport Organisation from \"./../organisation/organisation.page\";\r\nimport { selectCreateOrganisationSucessful } from \"./../../redux/organisation/organisation.selectors\";\r\nimport Spinner from \"../../components/spinner/spinner.component\";\r\n\r\nclass CreateOrganisation extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      organisationDetails: {\r\n        organisationName: null,\r\n        organisationEmail: null,\r\n        organisationNumber: null,\r\n        organisationAddress: null,\r\n      },\r\n      creation: false,\r\n      // organisationListLength: null,\r\n    };\r\n  }\r\n\r\n  organisationOnChange = (e) => {\r\n    const { name, value } = e.target;\r\n    let org = this.state.organisationDetails;\r\n    org[name] = value;\r\n    this.setState({ organisationDetails: org }, () => console.log(this.state));\r\n  };\r\n\r\n  createOrg = (e) => {\r\n    e.preventDefault();\r\n    let orgDetails = this.state.organisationDetails;\r\n    this.props.createOrganisation(orgDetails);\r\n    this.setState(\r\n      {\r\n        creation: true,\r\n        organisationListLength: this.props.organisations.length,\r\n      },\r\n      () => {\r\n        console.log(this.state);\r\n      }\r\n    );\r\n  };\r\n\r\n  exit = () => {\r\n    console.log(\"exit\");\r\n    this.props.history.push(\"/organisations\");\r\n  };\r\n\r\n  componentDidMount() {\r\n    // this.props.fetchOrganisations();\r\n    // this.setState({ organisationListLength: this.props.organisations.length });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // this.props.fetchOrganisations();\r\n    // this.setState({ organisationListLength: this.props.organisations.length });\r\n  }\r\n\r\n  render() {\r\n    console.log(\r\n      this.props.organisations,\r\n      this.state.creation,\r\n      this.props.createdOrganisation,\r\n      this.props.createdOrganisationStart\r\n    );\r\n    if (this.state.creation && this.props.createdOrganisation) {\r\n      console.log(\"exit\");\r\n      this.props.history.push(\"/organisations\");\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{ width: \"100%\", height: \"100vh\", backgroundColor: \"#F5F5F5\" }}\r\n        >\r\n          <NavBar>\r\n            <OneThirdDiv align=\"flex-start\" color=\"#205284\">\r\n              <Link\r\n                to={`/organisations`}\r\n                style={{ textDecoration: \"none\", color: \"#205284\" }}\r\n              >\r\n                Cancel\r\n              </Link>\r\n            </OneThirdDiv>\r\n            <OneThirdDiv align=\"center\" style={{ fontWeight: \"600\" }}>\r\n              New Org\r\n            </OneThirdDiv>\r\n            <OneThirdDiv\r\n              align=\"flex-end\"\r\n              color=\"#205284\"\r\n              onClick={this.createOrg}\r\n            >\r\n              Save\r\n            </OneThirdDiv>\r\n          </NavBar>\r\n          <form onChange={this.organisationOnChange} onSubmit={this.createOrg}>\r\n            <LongInput\r\n              id=\"organisationName\"\r\n              name=\"organisationName\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Organisation Name\"\r\n            />\r\n\r\n            <LongInput\r\n              id=\"organisationAddress\"\r\n              name=\"organisationAddress\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Organisation Address\"\r\n            />\r\n\r\n            <LongInput\r\n              id=\"organisationNumber\"\r\n              name=\"organisationNumber\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Organisation Number\"\r\n            />\r\n\r\n            <LongInput\r\n              id=\"organisationEmail\"\r\n              name=\"organisationEmail\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Organisation Email\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  organisationsFetched: selectFetchAllOrganisationsSuccess,\r\n  organisations: selectAllOrganisations,\r\n  createdOrganisation: selectCreateOrganisationSucessful,\r\n  createdOrganisationStart: selectCreateOrganisationStart,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  createOrganisation: (orgDetails) =>\r\n    dispatch(createOrganisationStart(orgDetails)),\r\n  fetchOrganisations: (userId) => dispatch(fetchAllOrganisationsStart(userId)),\r\n  clearOrganisationData: () => dispatch(clearAllOrganisationData),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateOrganisation);\r\n"]},"metadata":{},"sourceType":"module"}