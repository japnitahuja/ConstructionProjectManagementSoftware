{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\cost-code\\\\cost-code.page.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { createCostCodeItemStart, fetchCostBookStart } from \"../../redux/costbook/costbook.actions\";\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\nimport { Link } from \"react-router-dom\";\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\nimport CostBookEditCostCode from \"../../components/costbook-editcostcode/costbook-editcostcode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CostCode extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleEdit = () => {\n      this.setState(prevState => ({\n        showEdit: !prevState.showEdit\n      }));\n    };\n\n    this.itemChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      console.log(name, value);\n      let itemInfo = this.state.item;\n      itemInfo[name] = value;\n      this.setState({\n        item: itemInfo\n      }, console.log(this.state.item));\n    };\n\n    this.createItem = e => {\n      e.preventDefault();\n      let itemDetails = this.state.item;\n      this.props.createItem(itemDetails);\n    };\n\n    this.state = {\n      costbook: null,\n      item: {\n        itemName: null,\n        partNo: null,\n        cost: null,\n        description: null,\n        itemLink: null,\n        costCodeId: this.props.match.params.costCodeId,\n        categoryId: this.props.match.params.categoryId\n      },\n      showEdit: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCostBook();\n    console.log(\"component mounted\", this.props.costbook);\n  }\n\n  render() {\n    // console.log(this.props.match.params.costCodeId, 'cost code')\n    // console.log(this.props.match.params.categoryId, 'category id')\n    let category = this.props.costbook.find(book => book._id === this.props.match.params.categoryId); //console.log(category)\n\n    let costCodeItem = category.costCodes.find(id => id._id === this.props.match.params.costCodeId);\n    console.log(\"hello\", costCodeItem, category);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CostBookCostCodeNav, {\n        title: costCodeItem.costCodeTitle.slice(0, 4)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Cost Code Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ColumnDiv, {\n        children: [/*#__PURE__*/_jsxDEV(CostCodeTitle, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cost Code Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#205284\",\n              fontSize: \"0.9em\"\n            },\n            onClick: this.toggleEdit,\n            children: this.state.showEdit ? `Cancel` : `Edit`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"0.5em\",\n            color: \"rgba(102,102,102,0.7)\"\n          },\n          children: this.state.showEdit ? `Cost codes help group specific set of items together.` : costCodeItem.costCodeTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), this.state.showEdit ? /*#__PURE__*/_jsxDEV(CostBookEditCostCode, {\n          categoryId: costCodeItem._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), costCodeItem.items.map(item => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            textDecoration: \"none\"\n          },\n          to: `/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`,\n          children: /*#__PURE__*/_jsxDEV(CostbookCostCode, {\n            title: item.itemName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onChange: this.itemChange,\n        onSubmit: this.createItem,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"itemName\",\n          name: \"itemName\",\n          id: \"itemName\",\n          children: \"Item Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"itemName\",\n          id: \"itemName\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"partNo\",\n          name: \"partNo\",\n          id: \"partNo\",\n          children: \"Part No.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"partNo\",\n          id: \"partNo\",\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"cost\",\n          name: \"cost\",\n          id: \"cost\",\n          children: \"Cost/part\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"cost\",\n          id: \"cost\",\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"itemLink\",\n          name: \"itemLink\",\n          id: \"itemLink\",\n          children: \"Item Link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"itemLink\",\n          id: \"itemLink\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"description\",\n          name: \"description\",\n          id: \"description\",\n          children: \"Desciption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"description\",\n          id: \"description\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"CREATE ITEM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  costbook: selectCostBookDetails\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\n  createItem: itemDetails => dispatch(createCostCodeItemStart(itemDetails)) // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/cost-code/cost-code.page.js"],"names":["React","Component","connect","createStructuredSelector","createCostCodeItemStart","fetchCostBookStart","selectCostBookDetails","Link","CostBookCostCodeNav","CostbookCategory","CostbookCostCode","ColumnDiv","CostCodeTitle","CostBookEditCostCode","CostCode","constructor","props","toggleEdit","setState","prevState","showEdit","itemChange","e","name","value","target","console","log","itemInfo","state","item","createItem","preventDefault","itemDetails","costbook","itemName","partNo","cost","description","itemLink","costCodeId","match","params","categoryId","componentDidMount","fetchCostBook","render","category","find","book","_id","costCodeItem","costCodes","id","costCodeTitle","slice","background","border","color","fontSize","marginTop","items","map","textDecoration","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  createCostCodeItemStart,\r\n  fetchCostBookStart,\r\n} from \"../../redux/costbook/costbook.actions\";\r\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\r\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\r\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\r\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\r\nimport CostBookEditCostCode from \"../../components/costbook-editcostcode/costbook-editcostcode\";\r\nclass CostCode extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      costbook: null,\r\n      item: {\r\n        itemName: null,\r\n        partNo: null,\r\n        cost: null,\r\n        description: null,\r\n        itemLink: null,\r\n        costCodeId: this.props.match.params.costCodeId,\r\n        categoryId: this.props.match.params.categoryId,\r\n      },\r\n      showEdit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchCostBook();\r\n    console.log(\"component mounted\", this.props.costbook);\r\n  }\r\n\r\n  toggleEdit = () => {\r\n    this.setState((prevState) => ({\r\n      showEdit: !prevState.showEdit,\r\n    }));\r\n  };\r\n\r\n  itemChange = (e) => {\r\n    const { name, value } = e.target;\r\n    console.log(name, value);\r\n    let itemInfo = this.state.item;\r\n    itemInfo[name] = value;\r\n    this.setState({ item: itemInfo }, console.log(this.state.item));\r\n  };\r\n\r\n  createItem = (e) => {\r\n    e.preventDefault();\r\n    let itemDetails = this.state.item;\r\n    this.props.createItem(itemDetails);\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.match.params.costCodeId, 'cost code')\r\n    // console.log(this.props.match.params.categoryId, 'category id')\r\n\r\n    let category = this.props.costbook.find(\r\n      (book) => book._id === this.props.match.params.categoryId\r\n    );\r\n    //console.log(category)\r\n    let costCodeItem = category.costCodes.find(\r\n      (id) => id._id === this.props.match.params.costCodeId\r\n    );\r\n    console.log(\"hello\", costCodeItem, category);\r\n    return (\r\n      <>\r\n        <CostBookCostCodeNav title={costCodeItem.costCodeTitle.slice(0, 4)} />\r\n        <CostbookCategory categoryName=\"Cost Code Info\" />\r\n\r\n        <ColumnDiv>\r\n          <CostCodeTitle>\r\n            <div>Cost Code Title</div>\r\n            <button\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"#205284\",\r\n                fontSize: \"0.9em\",\r\n              }}\r\n              onClick={this.toggleEdit}\r\n            >\r\n              {this.state.showEdit ? `Cancel` : `Edit`}\r\n            </button>\r\n          </CostCodeTitle>\r\n          <div style={{ marginTop: \"0.5em\", color: \"rgba(102,102,102,0.7)\" }}>\r\n            {this.state.showEdit\r\n              ? `Cost codes help group specific set of items together.`\r\n              : costCodeItem.costCodeTitle}\r\n          </div>\r\n\r\n          {this.state.showEdit ? (\r\n            <CostBookEditCostCode categoryId={costCodeItem._id} />\r\n          ) : null}\r\n        </ColumnDiv>\r\n\r\n        <CostbookCategory categoryName=\"Items\" />\r\n        {costCodeItem.items.map((item) => {\r\n          return (\r\n            <Link\r\n              style={{ textDecoration: \"none\" }}\r\n              to={`/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`}\r\n            >\r\n              <CostbookCostCode title={item.itemName} />\r\n            </Link>\r\n          );\r\n        })}\r\n        <br></br>\r\n        <br />\r\n        <form onChange={this.itemChange} onSubmit={this.createItem}>\r\n          <label for=\"itemName\" name=\"itemName\" id=\"itemName\">\r\n            Item Name\r\n          </label>\r\n          <input name=\"itemName\" id=\"itemName\" type=\"text\" />\r\n          <br />\r\n          <label for=\"partNo\" name=\"partNo\" id=\"partNo\">\r\n            Part No.\r\n          </label>\r\n          <input name=\"partNo\" id=\"partNo\" type=\"number\" />\r\n          <br />\r\n          <label for=\"cost\" name=\"cost\" id=\"cost\">\r\n            Cost/part\r\n          </label>\r\n          <input name=\"cost\" id=\"cost\" type=\"number\" />\r\n          <br />\r\n          <label for=\"itemLink\" name=\"itemLink\" id=\"itemLink\">\r\n            Item Link\r\n          </label>\r\n          <input name=\"itemLink\" id=\"itemLink\" type=\"text\" />\r\n          <br />\r\n          <label for=\"description\" name=\"description\" id=\"description\">\r\n            Desciption\r\n          </label>\r\n          <input name=\"description\" id=\"description\" type=\"text\" />\r\n          <br />\r\n          <button type=\"submit\">CREATE ITEM</button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  costbook: selectCostBookDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\r\n  createItem: (itemDetails) => dispatch(createCostCodeItemStart(itemDetails)),\r\n  // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\r\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\r\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);\r\n"]},"metadata":{},"sourceType":"module"}