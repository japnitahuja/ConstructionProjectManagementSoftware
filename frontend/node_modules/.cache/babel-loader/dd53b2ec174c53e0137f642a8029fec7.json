{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\desktop\\\\github\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\all-projects\\\\all-projects.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\nimport { createProjectStart, fetchProjectsStart } from \"../../redux/all-projects/all-projects.actions\";\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\nimport { signOut } from \"../../redux/user/user.actions\";\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllProjects extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.signOut = () => {\n      const {\n        history,\n        signOut\n      } = this.props;\n      signOut();\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      history.push(\"/login\");\n    };\n  }\n\n  componentDidMount() {\n    const {\n      fetchProjects\n    } = this.props;\n    fetchProjects();\n  }\n\n  render() {\n    const {\n      projects\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"All Projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProjectList, {\n        projects: projects\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CreateProjectForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.signOut,\n        children: \"Sign out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  name: selectCurrentUserFirstName,\n  projects: selectUserProjects\n});\n\nconst mapDispatchToProps = dispatch => ({\n  signOut: () => dispatch(signOut()),\n  createProject: projectDetails => dispatch(createProjectStart(projectDetails)),\n  fetchProjects: () => dispatch(fetchProjectsStart())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProjects);","map":{"version":3,"sources":["C:/Users/lenovo/desktop/github/myles-website/frontend/src/pages/all-projects/all-projects.js"],"names":["React","Component","connect","createStructuredSelector","ProjectList","createProjectStart","fetchProjectsStart","selectUserProjects","signOut","selectCurrentUserFirstName","CreateProjectForm","AllProjects","history","props","localStorage","removeItem","push","componentDidMount","fetchProjects","render","projects","margin","mapStateToProps","name","mapDispatchToProps","dispatch","createProject","projectDetails"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,OAAOC,WAAP,MAAwB,wDAAxB;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,QAAuD,+CAAvD;AACA,SAASC,kBAAT,QAAmC,iDAAnC;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,0BAAT,QAA2C,iCAA3C;AACA,OAAOC,iBAAP,MAA8B,oEAA9B;;;AAGC,MAAMC,WAAN,SAA0BV,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SAMhCO,OANgC,GAMtB,MAAM;AACb,YAAM;AAAEI,QAAAA,OAAF;AAAWJ,QAAAA;AAAX,UAAuB,KAAKK,KAAlC;AACAL,MAAAA,OAAO;AACPM,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACD,KAZ8B;AAAA;;AAChCC,EAAAA,iBAAiB,GAAE;AACf,UAAM;AAACC,MAAAA;AAAD,QAAkB,KAAKL,KAA7B;AACDK,IAAAA,aAAa;AACf;;AASFC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACC,MAAAA;AAAD,QAAa,KAAKP,KAAxB;AACA,wBACI;AAAK,MAAA,KAAK,EAAE;AAACQ,QAAAA,MAAM,EAAC;AAAR,OAAZ;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,WAAD;AAAa,QAAA,QAAQ,EAAED;AAAvB;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAQ,QAAA,OAAO,EAAE,KAAKZ,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH;;AAvBgC;;AA0BrC,MAAMc,eAAe,GAAGnB,wBAAwB,CAAC;AAC7CoB,EAAAA,IAAI,EAAEd,0BADuC;AAE7CW,EAAAA,QAAQ,EAAEb;AAFmC,CAAD,CAAhD;;AAKE,MAAMiB,kBAAkB,GAAIC,QAAD,KAAe;AACxCjB,EAAAA,OAAO,EAAE,MAAMiB,QAAQ,CAACjB,OAAO,EAAR,CADiB;AAExCkB,EAAAA,aAAa,EAAGC,cAAD,IAAoBF,QAAQ,CAACpB,kBAAkB,CAACsB,cAAD,CAAnB,CAFH;AAGxCT,EAAAA,aAAa,EAAG,MAAMO,QAAQ,CAACnB,kBAAkB,EAAnB;AAHU,CAAf,CAA3B;;AAMA,eAAeJ,OAAO,CAACoB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6Cb,WAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\r\nimport { createProjectStart, fetchProjectsStart } from \"../../redux/all-projects/all-projects.actions\";\r\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\r\nimport { signOut } from \"../../redux/user/user.actions\";\r\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\r\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\"\r\n\r\n\r\n class AllProjects extends Component {\r\n     componentDidMount(){\r\n         const {fetchProjects} = this.props;\r\n        fetchProjects()\r\n     }\r\n\r\n     signOut = () => {\r\n        const { history, signOut } = this.props;\r\n        signOut();\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n        history.push(\"/login\");\r\n      };\r\n    render() {\r\n        const {projects} = this.props\r\n        return (\r\n            <div style={{margin:'10px'}}>\r\n                <h2>All Projects</h2>\r\n                <ProjectList projects={projects}/>\r\n                <CreateProjectForm/>\r\n                <button onClick={this.signOut}>Sign out</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    name: selectCurrentUserFirstName,\r\n    projects: selectUserProjects\r\n  });\r\n  \r\n  const mapDispatchToProps = (dispatch) => ({\r\n    signOut: () => dispatch(signOut()),\r\n    createProject: (projectDetails) => dispatch(createProjectStart(projectDetails)),\r\n    fetchProjects : () => dispatch(fetchProjectsStart())\r\n  });\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(AllProjects);\r\n\r\n"]},"metadata":{},"sourceType":"module"}