{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\cost-code\\\\cost-code.page.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { createCostCodeItemStart, fetchCostBookStart } from \"../../redux/costbook/costbook.actions\";\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\nimport { Link } from \"react-router-dom\";\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CostCode extends Component {\n  constructor(props) {\n    super(props);\n\n    this.itemChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      console.log(name, value);\n      let itemInfo = this.state.item;\n      itemInfo[name] = value;\n      this.setState({\n        item: itemInfo\n      }, console.log(this.state.item));\n    };\n\n    this.createItem = e => {\n      e.preventDefault();\n      let itemDetails = this.state.item;\n      this.props.createItem(itemDetails);\n    };\n\n    this.state = {\n      costbook: null,\n      item: {\n        itemName: null,\n        partNo: null,\n        cost: null,\n        description: null,\n        itemLink: null,\n        costCodeId: this.props.match.params.costCodeId,\n        categoryId: this.props.match.params.categoryId\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCostBook();\n    console.log(\"component mounted\", this.props.costbook);\n  }\n\n  render() {\n    // console.log(this.props.match.params.costCodeId, 'cost code')\n    // console.log(this.props.match.params.categoryId, 'category id')\n    console.log(this.props.costbook, \"hi\");\n    let category = this.props.costbook.find(book => book._id === this.props.match.params.categoryId); //console.log(category)\n\n    let costCodeItem = category.costCodes.find(id => id._id === this.props.match.params.costCodeId);\n    console.log(costCodeItem);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CostBookCostCodeNav, {\n        title: costCodeItem.costCodeTitle.slice(0, 4)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Cost Code Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ColumnDiv, {\n        children: [/*#__PURE__*/_jsxDEV(CostCodeTitle, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cost Code Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#205284\",\n              fontSize: \"0.9em\"\n            },\n            onClick: this.toggleEdit,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"0.5em\",\n            color: \"rgba(102,102,102,0.7)\"\n          },\n          children: costCodeItem.costCodeTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CostbookCategory, {\n        categoryName: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), costCodeItem.items.map(item => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            textDecoration: \"none\"\n          },\n          to: `/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`,\n          children: /*#__PURE__*/_jsxDEV(CostbookCostCode, {\n            title: item.itemName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onChange: this.itemChange,\n        onSubmit: this.createItem,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"itemName\",\n          name: \"itemName\",\n          id: \"itemName\",\n          children: \"Item Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"itemName\",\n          id: \"itemName\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"partNo\",\n          name: \"partNo\",\n          id: \"partNo\",\n          children: \"Part No.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"partNo\",\n          id: \"partNo\",\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"cost\",\n          name: \"cost\",\n          id: \"cost\",\n          children: \"Cost/part\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"cost\",\n          id: \"cost\",\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"itemLink\",\n          name: \"itemLink\",\n          id: \"itemLink\",\n          children: \"Item Link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"itemLink\",\n          id: \"itemLink\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"description\",\n          name: \"description\",\n          id: \"description\",\n          children: \"Desciption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"description\",\n          id: \"description\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"CREATE ITEM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  costbook: selectCostBookDetails\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\n  createItem: itemDetails => dispatch(createCostCodeItemStart(itemDetails)) // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/cost-code/cost-code.page.js"],"names":["React","Component","connect","createStructuredSelector","createCostCodeItemStart","fetchCostBookStart","selectCostBookDetails","Link","CostBookCostCodeNav","CostbookCategory","CostbookCostCode","ColumnDiv","CostCodeTitle","CostCode","constructor","props","itemChange","e","name","value","target","console","log","itemInfo","state","item","setState","createItem","preventDefault","itemDetails","costbook","itemName","partNo","cost","description","itemLink","costCodeId","match","params","categoryId","componentDidMount","fetchCostBook","render","category","find","book","_id","costCodeItem","costCodes","id","costCodeTitle","slice","background","border","color","fontSize","toggleEdit","marginTop","items","map","textDecoration","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport {\r\n  createCostCodeItemStart,\r\n  fetchCostBookStart,\r\n} from \"../../redux/costbook/costbook.actions\";\r\nimport { selectCostBookDetails } from \"../../redux/costbook/costbook.selectors\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CostBookCostCodeNav } from \"../../components/costbook-costcodenav/costbook-costcodenav.component\";\r\nimport { CostbookCategory } from \"../../components/costbook-category/costbook-category.component\";\r\nimport { CostbookCostCode } from \"../../components/costbook-costcode/costbook-costcode.component\";\r\nimport { ColumnDiv, CostCodeTitle } from \"./cost-code.styles\";\r\n\r\nclass CostCode extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      costbook: null,\r\n      item: {\r\n        itemName: null,\r\n        partNo: null,\r\n        cost: null,\r\n        description: null,\r\n        itemLink: null,\r\n        costCodeId: this.props.match.params.costCodeId,\r\n        categoryId: this.props.match.params.categoryId,\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchCostBook();\r\n    console.log(\"component mounted\", this.props.costbook);\r\n  }\r\n\r\n  itemChange = (e) => {\r\n    const { name, value } = e.target;\r\n    console.log(name, value);\r\n    let itemInfo = this.state.item;\r\n    itemInfo[name] = value;\r\n    this.setState({ item: itemInfo }, console.log(this.state.item));\r\n  };\r\n\r\n  createItem = (e) => {\r\n    e.preventDefault();\r\n    let itemDetails = this.state.item;\r\n    this.props.createItem(itemDetails);\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.match.params.costCodeId, 'cost code')\r\n    // console.log(this.props.match.params.categoryId, 'category id')\r\n    console.log(this.props.costbook, \"hi\");\r\n    let category = this.props.costbook.find(\r\n      (book) => book._id === this.props.match.params.categoryId\r\n    );\r\n    //console.log(category)\r\n    let costCodeItem = category.costCodes.find(\r\n      (id) => id._id === this.props.match.params.costCodeId\r\n    );\r\n    console.log(costCodeItem);\r\n    return (\r\n      <>\r\n        <CostBookCostCodeNav title={costCodeItem.costCodeTitle.slice(0, 4)} />\r\n        <CostbookCategory categoryName=\"Cost Code Info\" />\r\n\r\n        <ColumnDiv>\r\n          <CostCodeTitle>\r\n            <div>Cost Code Title</div>\r\n            <button\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"#205284\",\r\n                fontSize: \"0.9em\",\r\n              }}\r\n              onClick={this.toggleEdit}\r\n            >\r\n              Edit\r\n            </button>\r\n          </CostCodeTitle>\r\n          <div style={{ marginTop: \"0.5em\", color: \"rgba(102,102,102,0.7)\" }}>\r\n            {costCodeItem.costCodeTitle}\r\n          </div>\r\n        </ColumnDiv>\r\n\r\n        <CostbookCategory categoryName=\"Items\" />\r\n        {costCodeItem.items.map((item) => {\r\n          return (\r\n            <Link\r\n              style={{ textDecoration: \"none\" }}\r\n              to={`/cost-item/${this.props.match.params.categoryId}/${this.props.match.params.costCodeId}/${item._id}`}\r\n            >\r\n              <CostbookCostCode title={item.itemName} />\r\n            </Link>\r\n          );\r\n        })}\r\n        <br></br>\r\n        <br />\r\n        <form onChange={this.itemChange} onSubmit={this.createItem}>\r\n          <label for=\"itemName\" name=\"itemName\" id=\"itemName\">\r\n            Item Name\r\n          </label>\r\n          <input name=\"itemName\" id=\"itemName\" type=\"text\" />\r\n          <br />\r\n          <label for=\"partNo\" name=\"partNo\" id=\"partNo\">\r\n            Part No.\r\n          </label>\r\n          <input name=\"partNo\" id=\"partNo\" type=\"number\" />\r\n          <br />\r\n          <label for=\"cost\" name=\"cost\" id=\"cost\">\r\n            Cost/part\r\n          </label>\r\n          <input name=\"cost\" id=\"cost\" type=\"number\" />\r\n          <br />\r\n          <label for=\"itemLink\" name=\"itemLink\" id=\"itemLink\">\r\n            Item Link\r\n          </label>\r\n          <input name=\"itemLink\" id=\"itemLink\" type=\"text\" />\r\n          <br />\r\n          <label for=\"description\" name=\"description\" id=\"description\">\r\n            Desciption\r\n          </label>\r\n          <input name=\"description\" id=\"description\" type=\"text\" />\r\n          <br />\r\n          <button type=\"submit\">CREATE ITEM</button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  costbook: selectCostBookDetails,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCostBook: () => dispatch(fetchCostBookStart()),\r\n  createItem: (itemDetails) => dispatch(createCostCodeItemStart(itemDetails)),\r\n  // createCategory: (costBookDetails) => dispatch(createCostBookCategoryStart(costBookDetails)),\r\n  // createCostCode: (costCodeDetails) => dispatch(createCostCodeStart(costCodeDetails))\r\n  //updateRoles: (payload) => dispatch(UpdateRolesInProjectStart(payload)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CostCode);\r\n"]},"metadata":{},"sourceType":"module"}