{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\pages\\\\all-projects\\\\all-projects.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\nimport { createProjectStart, fetchProjectsStart } from \"../../redux/all-projects/all-projects.actions\";\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\nimport { signOut } from \"../../redux/user/user.actions\";\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\";\nimport ProjectsNav from \"../../components/projects-nav/projects-nav.component\";\nimport ProjectListContainer from \"../../components/projects-list/projects-list.container\";\nimport { GenericButton } from \"../../components/generic-button/generic-button.styles\";\nimport AddUserForm from \"../../components/adduser-form/adduser-form.component\";\nimport SearchBar from \"../../components/search-bar/search-bar.component\";\nimport NoResult from \"../../components/no-result/no-result.component\";\nimport { Overlay } from \"../../components/admin-panel-task-page/admin-panel-task-page.styles\";\nimport ProjectsFilter from \"../../components/projects-filter/projects-filter.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllProjects extends Component {\n  constructor() {\n    super();\n\n    this.search = searchedText => {\n      let temp = this.props.projects;\n\n      if (searchedText) {\n        temp = temp.filter(({\n          projectName\n        }) => {\n          return projectName.toLowerCase().includes(searchedText.toLowerCase());\n        });\n      }\n\n      this.setState({\n        projectsList: temp\n      });\n    };\n\n    this.filter = filters => {\n      console.log(\"filters\", filters);\n      let temp = this.props.projects;\n\n      for (let filter in filters) {\n        if (filters[filter] != \"\") {\n          temp = temp.filter(project => {\n            console.log(project[filter], filter, filters, filters[filter]);\n            return project[filter] == filters[filter];\n          });\n        }\n      }\n\n      this.setState({\n        projectsList: temp,\n        filters: filters\n      });\n    };\n\n    this.toggleSearchBar = () => {\n      this.setState(prevState => ({\n        showSearch: !prevState.showSearch\n      }));\n    };\n\n    this.toggleFilter = () => {\n      this.setState(prevState => ({\n        showFilter: !prevState.showFilter\n      }));\n    };\n\n    this.state = {\n      projectsList: [],\n      //will change based on search\n      showSearch: false,\n      showFilter: false,\n      filters: {},\n      isFetching: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      fetchProjects\n    } = this.props;\n    fetchProjects();\n  }\n\n  render() {\n    this.setState({\n      projectsList: this.props.projects\n    });\n    let {\n      projectsList\n    } = this.state;\n    console.log(projectsList);\n\n    if (!projectsList) {\n      projectsList = [];\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ProjectsNav, {\n        title: \"Projects\",\n        toggleSearchBar: this.toggleSearchBar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), this.state.showSearch ? /*#__PURE__*/_jsxDEV(SearchBar, {\n        placeholder: \"Search Projects...\",\n        search: this.search,\n        toggleFilter: this.toggleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this) : null, projectsList.length === 0 ? /*#__PURE__*/_jsxDEV(NoResult, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ProjectListContainer, {\n        projects: projectsList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), this.state.showFilter ? /*#__PURE__*/_jsxDEV(Overlay, {\n        backgroundcolor: \"rgba(0,0,0,0.3)\",\n        style: {\n          bottom: \"0\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ProjectsFilter, {\n          exit: this.toggleFilter,\n          onSubmit: this.filter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  name: selectCurrentUserFirstName,\n  projects: selectUserProjects\n});\n\nconst mapDispatchToProps = dispatch => ({\n  signOut: () => dispatch(signOut()),\n  createProject: projectDetails => dispatch(createProjectStart(projectDetails)),\n  fetchProjects: () => dispatch(fetchProjectsStart())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProjects);","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/pages/all-projects/all-projects.js"],"names":["React","Component","connect","createStructuredSelector","ProjectList","createProjectStart","fetchProjectsStart","selectUserProjects","signOut","selectCurrentUserFirstName","CreateProjectForm","ProjectsNav","ProjectListContainer","GenericButton","AddUserForm","SearchBar","NoResult","Overlay","ProjectsFilter","AllProjects","constructor","search","searchedText","temp","props","projects","filter","projectName","toLowerCase","includes","setState","projectsList","filters","console","log","project","toggleSearchBar","prevState","showSearch","toggleFilter","showFilter","state","isFetching","componentDidMount","fetchProjects","render","length","bottom","height","display","flexDirection","justifyContent","alignItems","mapStateToProps","name","mapDispatchToProps","dispatch","createProject","projectDetails"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport ProjectList from \"../../components/projects-list/projects-list.component\";\r\nimport {\r\n  createProjectStart,\r\n  fetchProjectsStart,\r\n} from \"../../redux/all-projects/all-projects.actions\";\r\nimport { selectUserProjects } from \"../../redux/all-projects/all-projects.selectors\";\r\nimport { signOut } from \"../../redux/user/user.actions\";\r\nimport { selectCurrentUserFirstName } from \"../../redux/user/user.selectors\";\r\nimport CreateProjectForm from \"../../components/create-project-form/create-project-form.component\";\r\nimport ProjectsNav from \"../../components/projects-nav/projects-nav.component\";\r\nimport ProjectListContainer from \"../../components/projects-list/projects-list.container\";\r\nimport { GenericButton } from \"../../components/generic-button/generic-button.styles\";\r\nimport AddUserForm from \"../../components/adduser-form/adduser-form.component\";\r\nimport SearchBar from \"../../components/search-bar/search-bar.component\";\r\nimport NoResult from \"../../components/no-result/no-result.component\";\r\nimport { Overlay } from \"../../components/admin-panel-task-page/admin-panel-task-page.styles\";\r\nimport ProjectsFilter from \"../../components/projects-filter/projects-filter.component\";\r\nclass AllProjects extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      projectsList: [], //will change based on search\r\n      showSearch: false,\r\n      showFilter: false,\r\n      filters: {},\r\n      isFetching: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { fetchProjects } = this.props;\r\n    fetchProjects();\r\n  }\r\n\r\n  search = (searchedText) => {\r\n    let temp = this.props.projects;\r\n\r\n    if (searchedText) {\r\n      temp = temp.filter(({ projectName }) => {\r\n        return projectName.toLowerCase().includes(searchedText.toLowerCase());\r\n      });\r\n    }\r\n\r\n    this.setState({ projectsList: temp });\r\n  };\r\n\r\n  filter = (filters) => {\r\n    console.log(\"filters\", filters);\r\n\r\n    let temp = this.props.projects;\r\n\r\n    for (let filter in filters) {\r\n      if (filters[filter] != \"\") {\r\n        temp = temp.filter((project) => {\r\n          console.log(project[filter], filter, filters, filters[filter]);\r\n          return project[filter] == filters[filter];\r\n        });\r\n      }\r\n    }\r\n\r\n    this.setState({ projectsList: temp, filters: filters });\r\n  };\r\n\r\n  toggleSearchBar = () => {\r\n    this.setState((prevState) => ({\r\n      showSearch: !prevState.showSearch,\r\n    }));\r\n  };\r\n\r\n  toggleFilter = () => {\r\n    this.setState((prevState) => ({\r\n      showFilter: !prevState.showFilter,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    this.setState({ projectsList: this.props.projects });\r\n    let { projectsList } = this.state;\r\n    console.log(projectsList);\r\n    if (!projectsList) {\r\n      projectsList = [];\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <ProjectsNav title=\"Projects\" toggleSearchBar={this.toggleSearchBar} />\r\n        {this.state.showSearch ? (\r\n          <SearchBar\r\n            placeholder=\"Search Projects...\"\r\n            search={this.search}\r\n            toggleFilter={this.toggleFilter}\r\n          />\r\n        ) : null}\r\n        {projectsList.length === 0 ? (\r\n          <NoResult />\r\n        ) : (\r\n          <ProjectListContainer projects={projectsList} />\r\n        )}\r\n\r\n        {this.state.showFilter ? (\r\n          <Overlay\r\n            backgroundcolor=\"rgba(0,0,0,0.3)\"\r\n            style={{\r\n              bottom: \"0\",\r\n              height: \"100%\",\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <ProjectsFilter exit={this.toggleFilter} onSubmit={this.filter} />\r\n          </Overlay>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  name: selectCurrentUserFirstName,\r\n  projects: selectUserProjects,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  signOut: () => dispatch(signOut()),\r\n  createProject: (projectDetails) =>\r\n    dispatch(createProjectStart(projectDetails)),\r\n  fetchProjects: () => dispatch(fetchProjectsStart()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProjects);\r\n"]},"metadata":{},"sourceType":"module"}