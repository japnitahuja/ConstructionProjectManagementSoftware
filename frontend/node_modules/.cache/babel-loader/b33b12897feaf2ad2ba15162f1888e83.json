{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\GitHub\\\\myles-website\\\\frontend\\\\src\\\\components\\\\create-task-form\\\\create-task-form.component.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { clearTaskData, createTaskStart } from \"../../redux/all-tasks/all-tasks.actions\";\nimport { fetchCurrentProjectStart } from \"../../redux/current-project/current-project.actions\";\nimport { signOut } from \"../../redux/user/user.actions\";\nimport { Container, InfoInput, InfoTitle, InfoDiv, LongInput, LowerNavDiv, OneHalfDiv, NavBar, OneThirdDiv, Overlay, GreenButton } from \"./create-task-form.styles\";\nimport { withRouter } from \"react-router-dom\";\nimport { selectCreateTaskStart } from \"../../redux/all-tasks/all-tasks.selectors\";\nimport { selectCreateTaskSuccessful } from \"./../../redux/all-tasks/all-tasks.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport Spinner from \"../spinner/spinner.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateTaskForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      let task = this.state.taskDetails;\n      task[name] = value;\n      this.setState({\n        taskDetails: task\n      });\n      console.log(this.state);\n    };\n\n    this.handleOnStepChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      let step = this.state.stepDetails;\n      step[name] = value;\n      console.log(this.state);\n      this.setState({\n        stepDetails: step\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.handleOnStepSubmit = e => {\n      console.log(\"step submit\");\n      e.preventDefault();\n      let steps = this.state.steps;\n      steps.push(step);\n      this.setState({\n        stepDetails: step\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.createTask = async e => {\n      e.preventDefault();\n      let taskDetails = this.state.taskDetails;\n      taskDetails[\"steps\"] = this.state.steps;\n      console.log(taskDetails);\n      console.log(taskDetails);\n      this.props.createTask(taskDetails);\n    };\n\n    this.handleOnClick = e => {\n      let {\n        key\n      } = e.target.dataset;\n      this.setState({\n        active: key\n      });\n    };\n\n    this.state = {\n      taskDetails: {\n        taskName: \"\",\n        taskStartDate: \"\",\n        taskEndDate: \"\",\n        projectId: this.props.match.params.projectId.toString()\n      },\n      stepDetails: {},\n      steps: [],\n      active: \"Steps\"\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.clearTaskData();\n  }\n\n  render() {\n    let {\n      active\n    } = this.state;\n    let {\n      projectId\n    } = this.state.taskDetails;\n    console.log(this.props.createTaskStart, this.props.createTaskSuccessful);\n\n    if (this.props.createTaskStart && !this.props.createTaskSuccessful) {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 14\n      }, this);\n    } else if (this.props.createTaskSuccessful) {\n      this.props.history.push(`/project/${projectId}`);\n    }\n\n    console.log(this.state.stepDetails);\n    return /*#__PURE__*/_jsxDEV(Overlay, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        children: [/*#__PURE__*/_jsxDEV(OneThirdDiv, {\n          align: \"flex-start\",\n          color: \"#205284\",\n          onClick: this.exit,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/project/${projectId}`,\n            style: {\n              textDecoration: \"none\",\n              color: \"#205284\"\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OneThirdDiv, {\n          align: \"center\",\n          style: {\n            fontWeight: \"600\"\n          },\n          children: \"New Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OneThirdDiv, {\n          align: \"flex-end\",\n          color: \"#205284\",\n          onClick: this.createTask,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LowerNavDiv, {\n        children: [/*#__PURE__*/_jsxDEV(OneHalfDiv, {\n          \"data-key\": \"Info\",\n          onClick: this.handleOnClick,\n          active: active === \"Info\",\n          children: \"INFO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OneHalfDiv, {\n          \"data-key\": \"Steps\",\n          onClick: this.handleOnClick,\n          active: active === \"Steps\",\n          children: \"STEPS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), this.state.active === \"Info\" ? /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        onChange: e => this.handleOnChange(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(LongInput, {\n            type: \"text\",\n            value: this.state.taskDetails.taskName,\n            name: \"taskName\",\n            id: \"taskName\",\n            placeholder: \"Task Title\",\n            onChange: e => this.handleOnChange(e),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(InfoDiv, {\n            children: [/*#__PURE__*/_jsxDEV(InfoTitle, {\n              children: \"Start Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoInput, {\n              type: \"date\",\n              value: this.state.taskDetails.taskStartDate,\n              name: \"taskStartDate\",\n              id: \"taskStartDate\",\n              onChange: e => this.handleOnChange(e),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoDiv, {\n            children: [/*#__PURE__*/_jsxDEV(InfoTitle, {\n              children: \"End Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InfoInput, {\n              type: \"date\",\n              value: this.state.taskDetails.taskEndDate,\n              name: \"taskEndDate\",\n              id: \"taskEndDate\",\n              onChange: e => this.handleOnChange(e),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(LongInput, {\n            type: \"text\",\n            value: this.state.taskDetails.taskName,\n            name: \"taskName\",\n            id: \"taskName\",\n            placeholder: \"Task Title\",\n            onChange: e => this.handleOnChange(e),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            padding: \"1em 0em 0em 1em\"\n          },\n          children: /*#__PURE__*/_jsxDEV(InfoTitle, {\n            style: {\n              fontSize: \"1em\"\n            },\n            children: \"Add Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(LongInput, {\n            type: \"text\",\n            value: this.state.stepDetails.stepName,\n            name: \"stepName\",\n            id: \"stepName\",\n            placeholder: \"Step Title\",\n            onChange: e => this.handleOnStepChange(e),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(LongInput, {\n            type: \"text\",\n            value: this.state.stepDetails.questionStatement,\n            name: \"questionStatement\",\n            id: \"questionStatement\",\n            placeholder: \"Step Description\",\n            onChange: e => this.handleOnStepChange(e),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/_jsxDEV(GreenButton, {\n            onClick: this.handleOnStepSubmit,\n            children: \"Add Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            padding: \"1em 0em 0em 1em\"\n          },\n          children: /*#__PURE__*/_jsxDEV(InfoTitle, {\n            style: {\n              fontSize: \"1em\"\n            },\n            children: \"Steps\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  createTaskStart: selectCreateTaskStart,\n  createTaskSuccessful: selectCreateTaskSuccessful\n});\n\nconst mapDispatchToProps = dispatch => ({\n  signOut: () => dispatch(signOut()),\n  createTask: taskDetails => dispatch(createTaskStart(taskDetails)),\n  fetchProject: projectId => dispatch(fetchCurrentProjectStart(projectId)),\n  clearTaskData: () => dispatch(clearTaskData())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateTaskForm));","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/GitHub/myles-website/frontend/src/components/create-task-form/create-task-form.component.jsx"],"names":["React","Component","connect","Link","clearTaskData","createTaskStart","fetchCurrentProjectStart","signOut","Container","InfoInput","InfoTitle","InfoDiv","LongInput","LowerNavDiv","OneHalfDiv","NavBar","OneThirdDiv","Overlay","GreenButton","withRouter","selectCreateTaskStart","selectCreateTaskSuccessful","createStructuredSelector","Spinner","CreateTaskForm","constructor","props","handleOnChange","e","name","value","target","task","state","taskDetails","setState","console","log","handleOnStepChange","step","stepDetails","handleOnStepSubmit","preventDefault","steps","push","createTask","handleOnClick","key","dataset","active","taskName","taskStartDate","taskEndDate","projectId","match","params","toString","componentWillUnmount","render","createTaskSuccessful","history","exit","textDecoration","color","fontWeight","display","flexDirection","width","padding","fontSize","stepName","questionStatement","justifyContent","mapStateToProps","mapDispatchToProps","dispatch","fetchProject"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  clearTaskData,\r\n  createTaskStart,\r\n} from \"../../redux/all-tasks/all-tasks.actions\";\r\nimport { fetchCurrentProjectStart } from \"../../redux/current-project/current-project.actions\";\r\nimport { signOut } from \"../../redux/user/user.actions\";\r\nimport {\r\n  Container,\r\n  InfoInput,\r\n  InfoTitle,\r\n  InfoDiv,\r\n  LongInput,\r\n  LowerNavDiv,\r\n  OneHalfDiv,\r\n  NavBar,\r\n  OneThirdDiv,\r\n  Overlay,\r\n  GreenButton,\r\n} from \"./create-task-form.styles\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { selectCreateTaskStart } from \"../../redux/all-tasks/all-tasks.selectors\";\r\nimport { selectCreateTaskSuccessful } from \"./../../redux/all-tasks/all-tasks.selectors\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport Spinner from \"../spinner/spinner.component\";\r\n\r\nclass CreateTaskForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      taskDetails: {\r\n        taskName: \"\",\r\n        taskStartDate: \"\",\r\n        taskEndDate: \"\",\r\n        projectId: this.props.match.params.projectId.toString(),\r\n      },\r\n      stepDetails: {},\r\n      steps: [],\r\n      active: \"Steps\",\r\n    };\r\n  }\r\n\r\n  handleOnChange = (e) => {\r\n    const { name, value } = e.target;\r\n    let task = this.state.taskDetails;\r\n    task[name] = value;\r\n\r\n    this.setState({ taskDetails: task });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleOnStepChange = (e) => {\r\n    const { name, value } = e.target;\r\n    let step = this.state.stepDetails;\r\n    step[name] = value;\r\n    console.log(this.state);\r\n    this.setState({ stepDetails: step }, () => {\r\n      console.log(this.state);\r\n    });\r\n  };\r\n\r\n  handleOnStepSubmit = (e) => {\r\n    console.log(\"step submit\");\r\n    e.preventDefault();\r\n    let steps = this.state.steps;\r\n    steps.push(step);\r\n\r\n    this.setState({ stepDetails: step }, () => {\r\n      console.log(this.state);\r\n    });\r\n  };\r\n\r\n  createTask = async (e) => {\r\n    e.preventDefault();\r\n    let taskDetails = this.state.taskDetails;\r\n    taskDetails[\"steps\"] = this.state.steps;\r\n    console.log(taskDetails);\r\n    console.log(taskDetails);\r\n    this.props.createTask(taskDetails);\r\n  };\r\n\r\n  handleOnClick = (e) => {\r\n    let { key } = e.target.dataset;\r\n\r\n    this.setState({\r\n      active: key,\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearTaskData();\r\n  }\r\n\r\n  render() {\r\n    let { active } = this.state;\r\n    let { projectId } = this.state.taskDetails;\r\n\r\n    console.log(this.props.createTaskStart, this.props.createTaskSuccessful);\r\n\r\n    if (this.props.createTaskStart && !this.props.createTaskSuccessful) {\r\n      return <Spinner />;\r\n    } else if (this.props.createTaskSuccessful) {\r\n      this.props.history.push(`/project/${projectId}`);\r\n    }\r\n\r\n    console.log(this.state.stepDetails);\r\n\r\n    return (\r\n      <Overlay>\r\n        <NavBar>\r\n          <OneThirdDiv align=\"flex-start\" color=\"#205284\" onClick={this.exit}>\r\n            <Link\r\n              to={`/project/${projectId}`}\r\n              style={{ textDecoration: \"none\", color: \"#205284\" }}\r\n            >\r\n              Cancel\r\n            </Link>\r\n          </OneThirdDiv>\r\n          <OneThirdDiv align=\"center\" style={{ fontWeight: \"600\" }}>\r\n            New Task\r\n          </OneThirdDiv>\r\n          <OneThirdDiv\r\n            align=\"flex-end\"\r\n            color=\"#205284\"\r\n            onClick={this.createTask}\r\n          >\r\n            Save\r\n          </OneThirdDiv>\r\n        </NavBar>\r\n        <LowerNavDiv>\r\n          <OneHalfDiv\r\n            data-key=\"Info\"\r\n            onClick={this.handleOnClick}\r\n            active={active === \"Info\"}\r\n          >\r\n            INFO\r\n          </OneHalfDiv>\r\n          <OneHalfDiv\r\n            data-key=\"Steps\"\r\n            onClick={this.handleOnClick}\r\n            active={active === \"Steps\"}\r\n          >\r\n            STEPS\r\n          </OneHalfDiv>\r\n        </LowerNavDiv>\r\n\r\n        {this.state.active === \"Info\" ? (\r\n          <form\r\n            style={{ display: \"flex\", flexDirection: \"column\" }}\r\n            onChange={(e) => this.handleOnChange(e)}\r\n          >\r\n            <div>\r\n              <LongInput\r\n                type=\"text\"\r\n                value={this.state.taskDetails.taskName}\r\n                name=\"taskName\"\r\n                id=\"taskName\"\r\n                placeholder=\"Task Title\"\r\n                onChange={(e) => this.handleOnChange(e)}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <Container>\r\n              <InfoDiv>\r\n                <InfoTitle>Start Date</InfoTitle>\r\n                <InfoInput\r\n                  type=\"date\"\r\n                  value={this.state.taskDetails.taskStartDate}\r\n                  name=\"taskStartDate\"\r\n                  id=\"taskStartDate\"\r\n                  onChange={(e) => this.handleOnChange(e)}\r\n                  required\r\n                />\r\n              </InfoDiv>\r\n\r\n              <InfoDiv>\r\n                <InfoTitle>End Date</InfoTitle>\r\n                <InfoInput\r\n                  type=\"date\"\r\n                  value={this.state.taskDetails.taskEndDate}\r\n                  name=\"taskEndDate\"\r\n                  id=\"taskEndDate\"\r\n                  onChange={(e) => this.handleOnChange(e)}\r\n                  required\r\n                />\r\n              </InfoDiv>\r\n            </Container>\r\n          </form>\r\n        ) : (\r\n          <div>\r\n            <div>\r\n              <LongInput\r\n                type=\"text\"\r\n                value={this.state.taskDetails.taskName}\r\n                name=\"taskName\"\r\n                id=\"taskName\"\r\n                placeholder=\"Task Title\"\r\n                onChange={(e) => this.handleOnChange(e)}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div style={{ width: \"100%\", padding: \"1em 0em 0em 1em\" }}>\r\n              <InfoTitle style={{ fontSize: \"1em\" }}>Add Step</InfoTitle>\r\n            </div>\r\n\r\n            <div>\r\n              <LongInput\r\n                type=\"text\"\r\n                value={this.state.stepDetails.stepName}\r\n                name=\"stepName\"\r\n                id=\"stepName\"\r\n                placeholder=\"Step Title\"\r\n                onChange={(e) => this.handleOnStepChange(e)}\r\n                required\r\n              />\r\n              <LongInput\r\n                type=\"text\"\r\n                value={this.state.stepDetails.questionStatement}\r\n                name=\"questionStatement\"\r\n                id=\"questionStatement\"\r\n                placeholder=\"Step Description\"\r\n                onChange={(e) => this.handleOnStepChange(e)}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n              }}\r\n            >\r\n              <GreenButton onClick={this.handleOnStepSubmit}>\r\n                Add Step\r\n              </GreenButton>\r\n            </div>\r\n\r\n            <div style={{ width: \"100%\", padding: \"1em 0em 0em 1em\" }}>\r\n              <InfoTitle style={{ fontSize: \"1em\" }}>Steps</InfoTitle>\r\n            </div>\r\n\r\n            {/* <div>\r\n              {this.state.steps.map((step) => {\r\n                console.log(step, \"hi\");\r\n                return (\r\n                  <>\r\n                    <div>{step.stepName}</div>\r\n                    <div>{step.questionStatement}</div>\r\n                  </>\r\n                );\r\n              })}\r\n            </div> */}\r\n          </div>\r\n        )}\r\n      </Overlay>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  createTaskStart: selectCreateTaskStart,\r\n  createTaskSuccessful: selectCreateTaskSuccessful,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  signOut: () => dispatch(signOut()),\r\n  createTask: (taskDetails) => dispatch(createTaskStart(taskDetails)),\r\n  fetchProject: (projectId) => dispatch(fetchCurrentProjectStart(projectId)),\r\n  clearTaskData: () => dispatch(clearTaskData()),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(CreateTaskForm));\r\n"]},"metadata":{},"sourceType":"module"}